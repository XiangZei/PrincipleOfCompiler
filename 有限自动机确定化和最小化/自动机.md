![2020-03-09_142021](F:\课程资料\编译原理\作业\有限自动机确定化和最小化\2020-03-09_142021.png)



(1)确定化：

1，删除$\varepsilon$ 边

- 如果存在$\varepsilon$构成的闭环，将闭环上的状态合而为一
- 开始状态的$\varepsilon$通路上的状态标记为开始状态，结束状态的逆$\varepsilon$通路标记为结束状态
- 从$\varepsilon$通路**逆向**逐一删除$\varepsilon$边，每删除一个边，同时引进新的边，反由原$\varepsilon$终点发出的边，也要由始点发出

2, 确定化算法

- 找到**开始态**集合$\{q_0^1,...,q_0^n\}$
- 按照变换函数实行变换 $\delta(\{q_i^1,...,q_i^n\},a_k)=\delta(q_i^1,a_k)\bigcup...\bigcup\delta(q_i^n,a^k)=\{q_j^1,...,q_j^n\}$

- 若$\{q_j^1,...,q_j^n\}$不是已有的状态行，则作为新行标记
- 重复上面两个步骤，直到不出现新的状态集合
- 标记DFA开始状态和结束状态
  - 第一行$\{q_0^1,...,q_0^n\}$标记为+
  - 凡是行中含有$\stackrel{-}{\varepsilon}NFA$的**结束状态**的，标记为-



|      | a    | b    |      |
| ---- | :--- | :--- | ---- |
| {S}  | {A}  | {Q}  | +    |
| {A}  | {A}  | {BZ} |      |
| {Q}  | {Q}  | {ZD} |      |
| {BZ} | {Q}  | {D}  | -    |
| {ZD} | {A}  | {B}  | -    |
| {D}  | {A}  | {B}  |      |
| {B}  | {Q}  | {D}  |      |

![编译1](F:\课程资料\编译原理\作业\有限自动机确定化和最小化\编译1.png)



(2)最小化

1，删除无用状态

2，合并等价状态

- 把状态集划分成两个不等价子集：$Q_1$(结束状态集)，$Q_2$(非结束状态集)
- 把每个$Q_i$划分成不同的子集：对同一$Q_i$中的两个状态i和j，若对字母表中的某个符号变换到已划分的不同状态集中，则i和j分离（$\delta(i,a)\in Q_m,\delta(j,a)\in Q_n 且 m\neq n$）
- 重复上一个步骤，直到不能在划分为止
- 合并最终划分的每个子集的个状态



$Q_{NE} = \{\{BZ,ZD\},\{S,A,Q,D,B\}\}$

$\delta(\{A,Q\},b) = \{BZ,ZD\},\delta(\{S,D,B\},b) = \{Q,B,D\}$  //将 A，Q 和 S，D，B分开

$Q_{NE} = \{\{BZ,ZD\},\{A,Q\},\{S,D,B\}\}$

$\delta(\{S\},b) = \{Q\}, \delta(\{D,B\},b) = \{B,D\}$ //将 S 和 D，B分开

$Q_{NE} = \{\{BZ,ZD\},\{A,Q\},\{S\},\{D,B\}\}$



所以将$\{BZ,ZD\},\{A,Q\},\{S\},\{D,B\}$看成四个状态 

|         | a       | b         |      |      |
| ------- | :------ | :-------- | ---- | ---- |
| {S}     | {A,Q} 2 | {A,Q} 2   | +    | 1    |
| {A,Q}   | {A,Q} 2 | {BZ,ZD} 3 |      | 2    |
| {BZ,ZD} | {A,Q} 2 | {B,D} 4   | -    | 3    |
| {B,D}   | {A,Q} 2 | {B,D} 4   |      | 4    |

![编译2](F:\课程资料\编译原理\作业\有限自动机确定化和最小化\编译2.png)



